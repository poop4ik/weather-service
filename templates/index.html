<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –ø—Ä–æ–≥–Ω–æ–∑—É –ø–æ–≥–æ–¥–∏</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <span style="font-size: 2.5em;">üå¶Ô∏è</span>
                <h1>WeatherPro</h1>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                <span id="themeIcon">üåô</span>
            </button>
        </header>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" 
                       id="cityInput" 
                       class="search-input" 
                       placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞ (–ö–∏—ó–≤, –õ—å–≤—ñ–≤, –û–¥–µ—Å–∞...)" 
                       autocomplete="off" />
                <button class="btn" onclick="searchWeather()">
                    üîç –ü–æ—à—É–∫
                </button>
                <button class="btn btn-secondary btn-icon" onclick="getCurrentLocation()" title="–ú–æ—î –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è">
                    üìç
                </button>
            </div>
            
            <div id="savedCities" class="saved-cities hidden"></div>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading hidden">
            <div class="loading-spinner"></div>
            <div>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...</div>
        </div>

        <!-- Error -->
        <div id="error" class="error-message hidden">
            <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
            <span id="errorText"></span>
        </div>

        <!-- Weather Content -->
        <div id="weatherContent" class="hidden">
            <!-- Current Weather + Air Quality -->
            <div class="weather-grid">
                <!-- Current Weather Card -->
                <div class="weather-card">
                    <div class="card-header">
                        <h2 class="card-title">–ü–æ—Ç–æ—á–Ω–∞ –ø–æ–≥–æ–¥–∞</h2>
                        <button class="btn btn-icon" onclick="saveCity()" title="–ó–±–µ—Ä–µ–≥—Ç–∏ –º—ñ—Å—Ç–æ">
                            ‚≠ê
                        </button>
                    </div>
                    <div class="current-weather-display">
                        <div class="location" id="location"></div>
                        <img class="weather-icon-large" id="weatherIconLarge" src="" alt="Weather icon" />
                        <div class="temperature-main" id="temperatureMain"></div>
                        <div class="weather-description" id="weatherDesc"></div>
                        
                        <div class="weather-details-grid">
                            <div class="detail-box">
                                <div class="detail-label">üå°Ô∏è –í—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è</div>
                                <div class="detail-value" id="feelsLike"></div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-label">üíß –í–æ–ª–æ–≥—ñ—Å—Ç—å</div>
                                <div class="detail-value" id="humidity"></div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-label">üå™Ô∏è –¢–∏—Å–∫</div>
                                <div class="detail-value" id="pressure"></div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-label">üí® –í—ñ—Ç–µ—Ä</div>
                                <div class="detail-value" id="windSpeed"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Air Quality Card -->
                <div class="weather-card" id="airQualityCard">
                    <div class="card-header">
                        <h2 class="card-title">–Ø–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è</h2>
                    </div>
                    <div class="aqi-indicator">
                        <div class="aqi-circle" id="aqiCircle"></div>
                        <div class="aqi-info">
                            <h3 id="aqiLabel"></h3>
                            <p style="color: #666;">–Ü–Ω–¥–µ–∫—Å —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è</p>
                        </div>
                    </div>
                    <div class="pollutants" id="pollutants"></div>
                </div>
            </div>

            <!-- Temperature Chart -->
            <div class="weather-card card-full">
                <div class="card-header">
                    <h2 class="card-title">üìä –ì—Ä–∞—Ñ—ñ–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (48 –≥–æ–¥–∏–Ω)</h2>
                </div>
                <div class="chart-container">
                    <canvas id="temperatureChart"></canvas>
                </div>
            </div>

            <!-- Hourly Forecast -->
            <div class="weather-card card-full">
                <div class="card-header">
                    <h2 class="card-title">üïê –ü–æ–≥–æ–¥–∏–Ω–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑</h2>
                </div>
                <div class="forecast-container" id="hourlyForecast"></div>
            </div>

            <!-- Daily Forecast -->
            <div class="weather-card card-full">
                <div class="card-header">
                    <h2 class="card-title">üìÖ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω—ñ–≤</h2>
                </div>
                <div class="forecast-container" id="dailyForecast"></div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding: 20px; color: rgba(255,255,255,0.8);">
            <p>üåç –í–µ–±-—Å–µ—Ä–≤—ñ—Å –ø—Ä–æ–≥–Ω–æ–∑—É –ø–æ–≥–æ–¥–∏ –Ω–∞ Google Cloud Run</p>
            <p style="font-size: 0.9em; margin-top: 10px;">–î–∞–Ω—ñ –≤—ñ–¥ OpenWeatherMap API | –ö—É—Ä—Å–æ–≤–∞ —Ä–æ–±–æ—Ç–∞ 2025</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
